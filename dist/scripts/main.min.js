!function(){"use strict";$(document).ready((function(){window.matchMedia("(max-width: 1300px)").matches&&($(".page-footer__nav h3:first").addClass("page-footer__active-nav-item"),$(".page-footer__nav ul:not(:first)").hide(),$(".page-footer__nav h3").click((function(){$(this).next("ul").slideToggle("slow").siblings("ul:visible").slideUp("slow"),$(this).toggleClass("page-footer__active-nav-item"),$(this).siblings("h3").removeClass("page-footer__active-nav-item");var e=$(".page-footer__active-nav-item"),t=$(".page-footer__disclaimer");1===e.length?t.addClass("page-footer__disclaimer--hide"):0===e.length&&t.removeClass("page-footer__disclaimer--hide")})))})),$(document).ready((function(){$("#lightSlider").lightSlider({item:6,auto:!1,slideMargin:10,slideMove:1,loop:!0,controls:!0,speed:600,pager:!1,keyPress:!0,mode:"slide",responsive:[{breakpoint:400,settings:{item:1,slideMove:1,slideMargin:6}}]})})),$(document).ready((function(){$("#lightSliderGoods").lightSlider({item:5,auto:!1,slideMargin:10,slideMove:1,loop:!0,controls:!1,speed:600,pager:!1,keyPress:!0,mode:"slide"})})),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios");var e=$("html, body"),t=$(".body"),a=$("#js-upBtn");a.length&&a.on("click",(function(){return e.animate({scrollTop:0},500),!1})),$(window).scroll((function(){$(window).scrollTop()>0?t.addClass("body--scrolled"):t.removeClass("body--scrolled")}));var o=$("#js-sliderList");if(o.length){var n=$("#js-sliderCircle"),i=0;o.on("init",(function(e,t){n.addClass("circle--active"),i=setTimeout((function(){o.slick("slickNext")}),5e3)})),o.on("beforeChange",(function(e,t,a,o){n.removeClass("circle--active"),clearTimeout(i)})),o.on("afterChange",(function(e,t,a){n.addClass("circle--active"),i=setTimeout((function(){o.slick("slickNext")}),5e3)})),o.slick({dots:!0,infinite:!0,draggable:!1,speed:500,autoplay:!1,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1,prevArrow:"#js-sliderPrev",nextArrow:"#js-sliderNext"})}var s=$(".filter");$.each(s,(function(e){var t,a,o,n=$(this),i=n.find(".filter__inner"),s=n.find(".filter__close-btn"),l=n.find(".range");if(l.length){a=(t=l.find(".range__slider")[0]).dataset.min?parseFloat(t.dataset.min):0,o=t.dataset.max?parseFloat(t.dataset.max):100;var r=l.find(".range__input--min")[0],c=l.find(".range__input--max")[0],d=[r,c],u=t.dataset.left?parseFloat(t.dataset.left):0,v=t.dataset.right?parseFloat(t.dataset.right):100,f=t.dataset.step?parseFloat(t.dataset.step):1,p=t.dataset.decimals?parseInt(t.dataset.decimals):0,m=function(e){e.value=0==p?e.value.replace(/[^\d]+/g,""):e.value.replace(/[^\d.]/g,"").replace(/(\..*)\./g,"$1")};r.oninput=function(){m(r)},c.oninput=function(){m(c)},noUiSlider.create(t,{start:[u,v],connect:!0,step:f,range:{min:a,max:o},format:wNumb({decimals:p})}),t.noUiSlider.on("update",(function(e,t){d[t].value=e[t],$(d[t]).trigger("change")}));var h=function(e,a){var o=[null,null];o[e]=a,t.noUiSlider.set(o)};d.forEach((function(e,a){e.addEventListener("change",(function(){h(a,this.value)})),e.addEventListener("keydown",(function(e){var o,n=t.noUiSlider.get(),i=Number(n[a]),s=t.noUiSlider.steps()[a];switch(e.which){case 13:h(a,this.value),e.preventDefault();break;case 38:!1===(o=s[1])&&(o=1),null!==o&&h(a,i+o);break;case 40:!1===(o=s[0])&&(o=1),null!==o&&h(a,i-o)}}))}))}function g(){n.removeClass("filter--active"),$(document).off("keyup.clsFltr")}n.on("click",(function(e){window.matchMedia("(min-width: 960px)").matches&&(n.hasClass("filter--active")?$(e.target).closest(i).length&&!$(e.target).closest(s).length||g():(n.addClass("filter--active"),$(document).on("keyup.clsFltr",(function(e){27===e.keyCode&&g()}))))}))}));var l=$("#js-breadCrumbs");l.length&&l.find("#js-breadCrumbsBtn").on("click",(function(){l.toggleClass("bread-crumbs--active"),t.toggleClass("bread-crumbs-overflow")}));var r=$("#js-subcategory-swipe");r.length&&r.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:"os-theme-dark",scrollbars:{dragScrolling:!0,touchSupport:!0},callbacks:{onInitialized:function(){var e,t,a,o=r.find(".os-viewport");o.on("mousewheel DOMMouseScroll",(function(e){e.preventDefault();var t=Math.max(-1,Math.min(1,e.originalEvent.wheelDelta||-e.originalEvent.detail));$(this).scrollLeft($(this).scrollLeft()-30*t)})),o.mousedown((function(o){o.preventDefault(),a=!0,e=o.pageX,t=$(this).scrollLeft()})),o.mousemove((function(n){if(a){var i=n.pageX;o.scrollLeft(t-i+e),Math.abs(i-e)>5&&o.on("click.prevent",(function(e){e.preventDefault(),e.stopPropagation(),o.off("click.prevent")}))}})),o.mouseup((function(e){a=!1})),o.mouseout((function(e){a=!1}))}}});var c=$("#js-factsFigures");c.length&&c.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:"os-theme-dark",scrollbars:{dragScrolling:!0,touchSupport:!0},callbacks:{onInitialized:function(){var e,t,a,o=c.find(".os-viewport");o.on("mousewheel DOMMouseScroll",(function(e){e.preventDefault();var t=Math.max(-1,Math.min(1,e.originalEvent.wheelDelta||-e.originalEvent.detail));$(this).scrollLeft($(this).scrollLeft()-30*t)})),o.mousedown((function(o){o.preventDefault(),a=!0,e=o.pageX,t=$(this).scrollLeft()})),o.mousemove((function(n){if(a){var i=n.pageX;o.scrollLeft(t-i+e),Math.abs(i-e)>5&&o.on("click.prevent",(function(e){e.preventDefault(),e.stopPropagation(),o.off("click.prevent")}))}})),o.mouseup((function(e){a=!1})),o.mouseout((function(e){a=!1}))}}});var d=$("#js-filters");if(d.length){var u,v=d.find("#js-filtersScroll"),f=function(){u=v.overlayScrollbars({overflowBehavior:{x:"hidden",y:"scroll"},className:"os-theme-dark",scrollbars:{dragScrolling:!0,touchSupport:!0}}).overlayScrollbars()};window.matchMedia("(max-width: 1299px)").matches&&f(),$(window).on("resize",(function(){window.matchMedia("(max-width: 1299px)").matches&&!u?f():!window.matchMedia("(max-width: 1299px)").matches&&u&&(u.destroy(),u=null)}));var p=d.find("#js-filtersAcc");d.find("#js-filtersAccBtn").on("click",(function(){p.slideToggle("slow"),$(this).toggleClass("filters__acc-btn--closed")}));var m=d.find(".js-filter-acc"),h=d.find(".js-filter-acc-btn");m.length&&h.length&&$(document).on("click",".js-filter-acc-btn",(function(){var e=$(this);e.next().slideToggle("slow").removeClass("filters__filter-acc--active"),e.toggleClass("filters__filter-name--active")})),$("#js-showFilters").on("click",(function(){t.addClass("filters-overflow"),d.addClass("filters--active"),d.on("click",(function(e){(e.target===this||$(e.target).is("#filtersClose"))&&(d.off("click"),t.removeClass("filters-overflow"),d.removeClass("filters--active"))}))}))}if(!$("#js-tabelsWrap").length){var g=$(".js-page-header__basket").attr("data-action");if(g){var w=$("#js-mainProduct-availabilityBtn"),_=w.attr("data-id");if($(document).on("click.delFromAvailability",".page-header__order-del",(function(e){var t=$(e.target),a=(t.hasClass("page-header__order-del")?t:t.closest(".page-header__order-del")).attr("data-id");if(a){var o={delFromCard:a};$.ajax({url:g,method:"POST",data:o,dataType:"json",success:function(e){_&&a==_&&w.removeClass(" main-product__availability-btn--in-cart")}})}})),w.length){var b,k=w.parent().find(".js-stepperInput");w.on("click",(function(){if(_){var e=k.val(),t=!e||""==e||0==e,a={addToCard:_,qty:t?1:e};$.ajax({url:g,method:"POST",data:a,dataType:"json",success:function(e){clearTimeout(b),w.addClass("main-product__availability-btn--to-cart"),t&&J.val(1),b=setTimeout((function(){w.addClass(" main-product__availability-btn--in-cart"),w.removeClass("main-product__availability-btn--to-cart")}),2e3)}})}}))}}}var C=$("#js-vacancyFormFile");if(C.length){var j=$("#js-vacancyFileName"),y=$("#js-vacancyDelFile");C.on("change",(function(){var e=this.files;e.length&&e[0]&&(j.text(e[0].name),y.addClass("vacancy__form-file-clear--active"),y.on("click",(function(){y.off("click"),C.val(""),j.text(""),y.removeClass("vacancy__form-file-clear--active")})))}))}var S=$("#js-navBurger"),x=$("#js-navShadow"),M=$("#js-nav"),T=M.find(".js-navItem"),U=M.find(".js-navSubSection");$.each(U,(function(e){$(this).find(".js-navSubBack").on("click",(function(){$(this).closest(".js-subNav").removeClass("nav__sub--showed")}))})),$.each(T,(function(e){var t=$(this),a=t.find(".js-navSection"),o=t.find(".js-subNav"),n=t.find(".js-subNavBack");function i(){M.addClass("nav--active"),T.removeClass("nav__item--active"),t.addClass("nav__item--active")}function s(){M.removeClass("nav--active"),T.removeClass("nav__item--active")}a.on("click",(function(){window.matchMedia("(min-width: 1170px)").matches?o.length?i():s():o.length&&o.addClass("nav__sub--showed")})),n.length&&n.on("click",(function(){o.removeClass("nav__sub--showed")})),a.on("mouseenter",(function(){window.matchMedia("(min-width: 1170px)").matches&&(o.length?i():s())})),M.on("mouseleave",(function(){window.matchMedia("(min-width: 1170px)").matches&&s()}))})),S.on("click",(function(){$(this).toggleClass("page-header__burger--active"),M.toggleClass("nav--showed"),x.toggleClass("nav__shadow--showed"),t.toggleClass("overflow-tablet")})),x.on("click",(function(){x.removeClass("nav__shadow--showed"),M.removeClass("nav--showed"),S.removeClass("page-header__burger--active"),t.removeClass("overflow-tablet")}));var D=$("#js-search"),F=$("#js-searchSelect");if(F.length){F.selectize({plugins:["typing_mode"],usePlaceholder:!0,create:!0,createOnBlur:!0,addPrecedence:!0,labelField:"name",valueField:"value",optgroupField:"optgroup",searchField:["name","value"],sortField:[{field:"optgroup",direction:"asc"}],render:{option_create:function(e,t){return'<div class="create">Ищем: <strong>'+t(e.input)+"</strong>&hellip;</div>"}},onDropdownOpen:function(e){e.overlayScrollbars({overflowBehavior:{x:"hidden",y:"scroll"},className:null});var t=e.overlayScrollbars();$(window).on("keydown.dropdownListener",(function(a){40!==a.keyCode&&38!==a.keyCode||t.scroll({el:e.find(".option.active, .create"),axis:"y",margin:5},100)}))},onDropdownClose:function(e){$(window).off("keydown.dropdownListener")},onItemAdd:function(e,t){this.options[e].optgroup&&t.closest("form").submit(),$(document).on("keydown.searchEnter",(function(e){13==e.keyCode&&t.closest("form").submit()}))}});var L=F.attr("data-action"),P=F.selectize()[0].selectize,B=$("#js-searchSelect-selectized"),N=setTimeout((function(){}),0);B.on("keyup",(function(){var e=$(this);clearTimeout(N),N=setTimeout((function(){var t=e.val();if(t.length>2){var a={search:t};$.ajax({url:L,method:"POST",data:a,dataType:"json",success:function(e){P.clearOptions();var t=[],a=Object.keys(e).length;$.each(e,(function(o,n){var i=o,s=n.length?n:o;t.push({optgroup:"Быстрые ссылки",name:i,value:s});var l=Object.keys(e).indexOf(o);a-1===l&&(P.addOption(t),setTimeout((function(){P.refreshOptions();var e=P.$dropdown.find(".option.active"),t=P.$dropdown.find(".create");e.length&&e.removeClass("active"),t.length&&t.addClass("active")}),0))}))},error:function(){}})}}),300)})),$("#js-searchSubmit").on("click",(function(){F.val().length>0&&(D.submit(),D.submit())})),$("#js-searchBtn").on("click",(function(){D.addClass("search--active");var e=D.find("#js-searchSelect-selectized");e.length&&e.focus()})),$("#js-searchClose").on("click",(function(){D.removeClass("search--active")}))}var z=$("#js-page-header__order-wrapping");z.length&&z.overlayScrollbars({overflowBehavior:{x:"hidden",y:"scroll"}});var O=$("#js-mainRow");O.length&&O.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:null,callbacks:{onInitialized:function(){var e,t,a,o=O.find(".os-viewport");o.mousedown((function(o){o.preventDefault(),a=!0,e=o.pageX,t=$(this).scrollLeft()})),o.mousemove((function(n){if(a){var i=n.pageX;o.scrollLeft(t-i+e),Math.abs(i-e)>5&&o.on("click.prevent",(function(e){e.preventDefault(),e.stopPropagation(),o.off("click.prevent")}))}})),o.mouseup((function(e){a=!1})),o.mouseout((function(e){a=!1}))}}});var A=$("#js-marksWrap");A.length&&A.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:null,callbacks:{onInitialized:function(){var e,t,a,o=A.find(".os-viewport");o.mousedown((function(o){o.preventDefault(),a=!0,e=o.pageX,t=$(this).scrollLeft()})),o.mousemove((function(n){if(a){var i=n.pageX;o.scrollLeft(t-i+e),Math.abs(i-e)>5&&o.on("click.prevent",(function(e){e.preventDefault(),e.stopPropagation(),o.off("click.prevent")}))}})),o.mouseup((function(e){a=!1})),o.mouseout((function(e){a=!1}))}}});var I=$("#js-about-us__wrapping");I.length&&I.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:null});var E=$(".certificate__wrap");E.length&&E.magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("title")+"<small>31.05.2018</small>"}}});var X=$("#js-trashComment"),q=$("#js-comment-del");X.length&&(X.on("input",(function(){$(this).val().length>0?q.addClass("trash__comment-del--active"):q.removeClass("trash__comment-del--active")})),q.on("click",(function(){X.val(""),q.removeClass("trash__comment-del--active")})));var Z=$("#js-faqForm");Z.length&&Z.validate({errorPlacement:function(e,t){return!0},errorElement:"span",rules:{name:{required:!0},email:{email:!0,required:!0},message:{required:!0}},submitHandler:function(e){grecaptcha.execute()}});var W=$("#js-marks");function G(e){return e.on("change keyup input click",(function(){this.value.match(/[^\d]/g)&&(this.value=this.value.replace(/[^\d]/g,""))})),!1}W.length&&W.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,variableWidth:!0}),$(document).off("click.stepperUp").on("click.stepperUp",".js-stepperUp",(function(e){var t=$(e.target).closest(".js-stepper").find(".js-stepperInput");t.val(+t.val()+1),t.trigger("change")})),$(document).off("click.stepperDown").on("click.stepperDown",".js-stepperDown",(function(e){var t=$(e.target).closest(".js-stepper").find(".js-stepperInput");+t.val()>=2?t.val(+t.val()-1):t.val(""),t.trigger("change")}));var H=$(".js-text-input");H.length&&H.on("change keyup input click",(function(){this.value.match(/[^A-Za-zА-Яа-я-\s]/g)&&(this.value=this.value.replace(/[^A-Za-z-\s]/g,""))}));var R=$(".js-numeric-input");R.length&&G(R);var J=$(".js-stepperInput");J.length&&G(J);var K=$(".js-phone-input");K.length&&function(e){e.on("change keyup input click",(function(){this.value.match(/[^A-Za-z\d\+\(\)-\s]/g)&&(this.value=this.value.replace(/[^A-Za-z\d\+\(\)-\s]/g,""))}))}(K);var Q=$("#js-productPopUpClose"),V=$("#js-mainProduct-popUp"),Y=$("#js-productPopUpContinue");Q.on("click",(function(){V.removeClass("product-pop-up--active")})),Y.on("click",(function(){V.removeClass("product-pop-up--active")}));var ee=$(".popUp-send"),te=$(".popUp-confirm"),ae=$(".popUp-send__del"),oe=$(".popUp-confirm__del"),ne=$(".popUp-confirm__btn");ae.on("click",(function(e){e.preventDefault(),ee.removeClass("popUp-send--active"),t.removeClass("overflow")})),oe.on("click",(function(){te.removeClass("popUp-confirm--active"),t.removeClass("overflow")})),ne.on("click",(function(){te.removeClass("popUp-confirm--active"),t.removeClass("overflow")}));var ie=$(".popUp-print"),se=$(".popUp-print__del"),le=$(".popUp-print__btn");se.on("click",(function(){ie.removeClass("popUp-print--active"),t.removeClass("overflow")})),le.on("click",(function(){ie.removeClass("popUp-print--active"),t.removeClass("overflow")}));var re=$(".js-menuTitle"),ce=$(".js-menuList");re.on("click",(function(e){$(this).toggleClass("menu__title--active"),ce.toggleClass("menu__list--active")}))}();