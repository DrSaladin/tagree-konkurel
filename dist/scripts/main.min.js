!function(){"use strict";$(document).ready((function(){$("#lightSlider").lightSlider({item:6,auto:!1,slideMargin:10,slideMove:1,loop:!0,controls:!1,speed:600,pager:!1,keyPress:!0,mode:"slide",responsive:[{breakpoint:400,settings:{item:1,slideMove:1,slideMargin:6}}]})})),$(document).ready((function(){$("#lightSliderGoods").lightSlider({item:1,auto:!1,slideMargin:10,slideMove:1,loop:!0,controls:!1,speed:600,pager:!1,keyPress:!0,mode:"slide"})})),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios");var e=$("html, body"),t=$(".body"),a=$("#js-upBtn");a.length&&a.on("click",(function(){return e.animate({scrollTop:0},500),!1})),$(window).scroll((function(){$(window).scrollTop()>0?t.addClass("body--scrolled"):t.removeClass("body--scrolled")}));var n=$("#js-sliderList");if(n.length){var o=$("#js-sliderCircle"),i=0;n.on("init",(function(e,t){o.addClass("circle--active"),i=setTimeout((function(){n.slick("slickNext")}),5e3)})),n.on("beforeChange",(function(e,t,a,n){o.removeClass("circle--active"),clearTimeout(i)})),n.on("afterChange",(function(e,t,a){o.addClass("circle--active"),i=setTimeout((function(){n.slick("slickNext")}),5e3)})),n.slick({dots:!0,infinite:!0,draggable:!1,speed:500,autoplay:!1,slidesToShow:1,slidesToScroll:1,prevArrow:"#js-sliderPrev",nextArrow:"#js-sliderNext"})}var s=$(".filter");$.each(s,(function(e){var t,a,n,o=$(this),i=o.find(".filter__inner"),s=o.find(".filter__close-btn"),l=o.find(".range");if(l.length){a=(t=l.find(".range__slider")[0]).dataset.min?parseFloat(t.dataset.min):0,n=t.dataset.max?parseFloat(t.dataset.max):100;var r=l.find(".range__input--min")[0],c=l.find(".range__input--max")[0],d=[r,c],u=t.dataset.left?parseFloat(t.dataset.left):0,v=t.dataset.right?parseFloat(t.dataset.right):100,f=t.dataset.step?parseFloat(t.dataset.step):1,p=t.dataset.decimals?parseInt(t.dataset.decimals):0,m=function(e){e.value=0==p?e.value.replace(/[^\d]+/g,""):e.value.replace(/[^\d.]/g,"").replace(/(\..*)\./g,"$1")};r.oninput=function(){m(r)},c.oninput=function(){m(c)},noUiSlider.create(t,{start:[u,v],connect:!0,step:f,range:{min:a,max:n},format:wNumb({decimals:p})}),t.noUiSlider.on("update",(function(e,t){d[t].value=e[t],$(d[t]).trigger("change")}));var h=function(e,a){var n=[null,null];n[e]=a,t.noUiSlider.set(n)};d.forEach((function(e,a){e.addEventListener("change",(function(){h(a,this.value)})),e.addEventListener("keydown",(function(e){var n,o=t.noUiSlider.get(),i=Number(o[a]),s=t.noUiSlider.steps()[a];switch(e.which){case 13:h(a,this.value),e.preventDefault();break;case 38:!1===(n=s[1])&&(n=1),null!==n&&h(a,i+n);break;case 40:!1===(n=s[0])&&(n=1),null!==n&&h(a,i-n)}}))}))}function g(){o.removeClass("filter--active"),$(document).off("keyup.clsFltr")}o.on("click",(function(e){window.matchMedia("(min-width: 960px)").matches&&(o.hasClass("filter--active")?$(e.target).closest(i).length&&!$(e.target).closest(s).length||g():(o.addClass("filter--active"),$(document).on("keyup.clsFltr",(function(e){27===e.keyCode&&g()}))))}))}));var l=$("#js-breadCrumbs");l.length&&l.find("#js-breadCrumbsBtn").on("click",(function(){l.toggleClass("bread-crumbs--active"),t.toggleClass("bread-crumbs-overflow")}));var r=$("#js-subcategory-swipe");r.length&&r.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:"os-theme-dark",scrollbars:{dragScrolling:!0,touchSupport:!0},callbacks:{onInitialized:function(){var e,t,a,n=r.find(".os-viewport");n.on("mousewheel DOMMouseScroll",(function(e){e.preventDefault();var t=Math.max(-1,Math.min(1,e.originalEvent.wheelDelta||-e.originalEvent.detail));$(this).scrollLeft($(this).scrollLeft()-30*t)})),n.mousedown((function(n){n.preventDefault(),a=!0,e=n.pageX,t=$(this).scrollLeft()})),n.mousemove((function(o){if(a){var i=o.pageX;n.scrollLeft(t-i+e),Math.abs(i-e)>5&&n.on("click.prevent",(function(e){e.preventDefault(),e.stopPropagation(),n.off("click.prevent")}))}})),n.mouseup((function(e){a=!1})),n.mouseout((function(e){a=!1}))}}});var c=$("#js-filters");if(c.length){var d,u=c.find("#js-filtersScroll"),v=function(){d=u.overlayScrollbars({overflowBehavior:{x:"hidden",y:"scroll"},className:"os-theme-dark",scrollbars:{dragScrolling:!0,touchSupport:!0}}).overlayScrollbars()};window.matchMedia("(max-width: 1299px)").matches&&v(),$(window).on("resize",(function(){window.matchMedia("(max-width: 1299px)").matches&&!d?v():!window.matchMedia("(max-width: 1299px)").matches&&d&&(d.destroy(),d=null)}));var f=c.find("#js-filtersAcc");c.find("#js-filtersAccBtn").on("click",(function(){f.slideToggle("slow"),$(this).toggleClass("filters__acc-btn--closed")}));var p=c.find(".js-filter-acc"),m=c.find(".js-filter-acc-btn");p.length&&m.length&&$(document).on("click",".js-filter-acc-btn",(function(){var e=$(this);e.next().slideToggle("slow").removeClass("filters__filter-acc--active"),e.toggleClass("filters__filter-name--active")})),$("#js-showFilters").on("click",(function(){t.addClass("filters-overflow"),c.addClass("filters--active"),c.on("click",(function(e){(e.target===this||$(e.target).is("#filtersClose"))&&(c.off("click"),t.removeClass("filters-overflow"),c.removeClass("filters--active"))}))}))}if(!$("#js-tabelsWrap").length){var h=$(".js-page-header__basket").attr("data-action");if(h){var g=$("#js-mainProduct-availabilityBtn"),w=g.attr("data-id");if($(document).on("click.delFromAvailability",".page-header__order-del",(function(e){var t=$(e.target),a=(t.hasClass("page-header__order-del")?t:t.closest(".page-header__order-del")).attr("data-id");if(a){var n={delFromCard:a};$.ajax({url:h,method:"POST",data:n,dataType:"json",success:function(e){w&&a==w&&g.removeClass(" main-product__availability-btn--in-cart")}})}})),g.length){var _,b=g.parent().find(".js-stepperInput");g.on("click",(function(){if(w){var e=b.val(),t=!e||""==e||0==e,a={addToCard:w,qty:t?1:e};$.ajax({url:h,method:"POST",data:a,dataType:"json",success:function(e){clearTimeout(_),g.addClass("main-product__availability-btn--to-cart"),t&&R.val(1),_=setTimeout((function(){g.addClass(" main-product__availability-btn--in-cart"),g.removeClass("main-product__availability-btn--to-cart")}),2e3)}})}}))}}}var k=$("#js-vacancyFormFile");if(k.length){var C=$("#js-vacancyFileName"),j=$("#js-vacancyDelFile");k.on("change",(function(){var e=this.files;e.length&&e[0]&&(C.text(e[0].name),j.addClass("vacancy__form-file-clear--active"),j.on("click",(function(){j.off("click"),k.val(""),C.text(""),j.removeClass("vacancy__form-file-clear--active")})))}))}var y=$("#js-navBurger"),S=$("#js-navShadow"),x=$("#js-nav"),T=x.find(".js-navItem"),U=x.find(".js-navSubSection");$.each(U,(function(e){$(this).find(".js-navSubBack").on("click",(function(){$(this).closest(".js-subNav").removeClass("nav__sub--showed")}))})),$.each(T,(function(e){var t=$(this),a=t.find(".js-navSection"),n=t.find(".js-subNav"),o=t.find(".js-subNavBack");function i(){x.addClass("nav--active"),T.removeClass("nav__item--active"),t.addClass("nav__item--active")}function s(){x.removeClass("nav--active"),T.removeClass("nav__item--active")}a.on("click",(function(){window.matchMedia("(min-width: 1170px)").matches?n.length?i():s():n.length&&n.addClass("nav__sub--showed")})),o.length&&o.on("click",(function(){n.removeClass("nav__sub--showed")})),a.on("mouseenter",(function(){window.matchMedia("(min-width: 1170px)").matches&&(n.length?i():s())})),x.on("mouseleave",(function(){window.matchMedia("(min-width: 1170px)").matches&&s()}))})),y.on("click",(function(){$(this).toggleClass("page-header__burger--active"),x.toggleClass("nav--showed"),S.toggleClass("nav__shadow--showed"),t.toggleClass("overflow-tablet")})),S.on("click",(function(){S.removeClass("nav__shadow--showed"),x.removeClass("nav--showed"),y.removeClass("page-header__burger--active"),t.removeClass("overflow-tablet")}));var F=$("#js-search"),M=$("#js-searchSelect");if(M.length){M.selectize({plugins:["typing_mode"],usePlaceholder:!0,create:!0,createOnBlur:!0,addPrecedence:!0,labelField:"name",valueField:"value",optgroupField:"optgroup",searchField:["name","value"],sortField:[{field:"optgroup",direction:"asc"}],render:{option_create:function(e,t){return'<div class="create">Ищем: <strong>'+t(e.input)+"</strong>&hellip;</div>"}},onDropdownOpen:function(e){e.overlayScrollbars({overflowBehavior:{x:"hidden",y:"scroll"},className:null});var t=e.overlayScrollbars();$(window).on("keydown.dropdownListener",(function(a){40!==a.keyCode&&38!==a.keyCode||t.scroll({el:e.find(".option.active, .create"),axis:"y",margin:5},100)}))},onDropdownClose:function(e){$(window).off("keydown.dropdownListener")},onItemAdd:function(e,t){this.options[e].optgroup&&t.closest("form").submit(),$(document).on("keydown.searchEnter",(function(e){13==e.keyCode&&t.closest("form").submit()}))}});var P=M.attr("data-action"),B=M.selectize()[0].selectize,D=$("#js-searchSelect-selectized"),L=setTimeout((function(){}),0);D.on("keyup",(function(){var e=$(this);clearTimeout(L),L=setTimeout((function(){var t=e.val();if(t.length>2){var a={search:t};$.ajax({url:P,method:"POST",data:a,dataType:"json",success:function(e){B.clearOptions();var t=[],a=Object.keys(e).length;$.each(e,(function(n,o){var i=n,s=o.length?o:n;t.push({optgroup:"Быстрые ссылки",name:i,value:s});var l=Object.keys(e).indexOf(n);a-1===l&&(B.addOption(t),setTimeout((function(){B.refreshOptions();var e=B.$dropdown.find(".option.active"),t=B.$dropdown.find(".create");e.length&&e.removeClass("active"),t.length&&t.addClass("active")}),0))}))},error:function(){}})}}),300)})),$("#js-searchSubmit").on("click",(function(){M.val().length>0&&(F.submit(),F.submit())})),$("#js-searchBtn").on("click",(function(){F.addClass("search--active");var e=F.find("#js-searchSelect-selectized");e.length&&e.focus()})),$("#js-searchClose").on("click",(function(){F.removeClass("search--active")}))}var N=$("#js-page-header__order-wrapping");N.length&&N.overlayScrollbars({overflowBehavior:{x:"hidden",y:"scroll"}});var z=$("#js-mainRow");z.length&&z.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:null,callbacks:{onInitialized:function(){var e,t,a,n=z.find(".os-viewport");n.mousedown((function(n){n.preventDefault(),a=!0,e=n.pageX,t=$(this).scrollLeft()})),n.mousemove((function(o){if(a){var i=o.pageX;n.scrollLeft(t-i+e),Math.abs(i-e)>5&&n.on("click.prevent",(function(e){e.preventDefault(),e.stopPropagation(),n.off("click.prevent")}))}})),n.mouseup((function(e){a=!1})),n.mouseout((function(e){a=!1}))}}});var A=$("#js-marksWrap");A.length&&A.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:null,callbacks:{onInitialized:function(){var e,t,a,n=A.find(".os-viewport");n.mousedown((function(n){n.preventDefault(),a=!0,e=n.pageX,t=$(this).scrollLeft()})),n.mousemove((function(o){if(a){var i=o.pageX;n.scrollLeft(t-i+e),Math.abs(i-e)>5&&n.on("click.prevent",(function(e){e.preventDefault(),e.stopPropagation(),n.off("click.prevent")}))}})),n.mouseup((function(e){a=!1})),n.mouseout((function(e){a=!1}))}}});var O=$("#js-about-us__wrapping");O.length&&O.overlayScrollbars({overflowBehavior:{x:"scroll",y:"hidden"},className:null});var I=$(".certificate__wrap");I.length&&I.magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("title")+"<small>31.05.2018</small>"}}});var E=$("#js-trashComment"),q=$("#js-comment-del");E.length&&(E.on("input",(function(){$(this).val().length>0?q.addClass("trash__comment-del--active"):q.removeClass("trash__comment-del--active")})),q.on("click",(function(){E.val(""),q.removeClass("trash__comment-del--active")})));var X=$("#js-faqForm");X.length&&X.validate({errorPlacement:function(e,t){return!0},errorElement:"span",rules:{name:{required:!0},email:{email:!0,required:!0},message:{required:!0}},submitHandler:function(e){grecaptcha.execute()}});var Z=$("#js-marks");function W(e){return e.on("change keyup input click",(function(){this.value.match(/[^\d]/g)&&(this.value=this.value.replace(/[^\d]/g,""))})),!1}Z.length&&Z.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,variableWidth:!0}),$(document).off("click.stepperUp").on("click.stepperUp",".js-stepperUp",(function(e){var t=$(e.target).closest(".js-stepper").find(".js-stepperInput");t.val(+t.val()+1),t.trigger("change")})),$(document).off("click.stepperDown").on("click.stepperDown",".js-stepperDown",(function(e){var t=$(e.target).closest(".js-stepper").find(".js-stepperInput");+t.val()>=2?t.val(+t.val()-1):t.val(""),t.trigger("change")}));var G=$(".js-text-input");G.length&&G.on("change keyup input click",(function(){this.value.match(/[^A-Za-zА-Яа-я-\s]/g)&&(this.value=this.value.replace(/[^A-Za-z-\s]/g,""))}));var H=$(".js-numeric-input");H.length&&W(H);var R=$(".js-stepperInput");R.length&&W(R);var J=$(".js-phone-input");J.length&&function(e){e.on("change keyup input click",(function(){this.value.match(/[^A-Za-z\d\+\(\)-\s]/g)&&(this.value=this.value.replace(/[^A-Za-z\d\+\(\)-\s]/g,""))}))}(J);var K=$("#js-productPopUpClose"),Q=$("#js-mainProduct-popUp"),V=$("#js-productPopUpContinue");K.on("click",(function(){Q.removeClass("product-pop-up--active")})),V.on("click",(function(){Q.removeClass("product-pop-up--active")}));var Y=$(".popUp-send"),ee=$(".popUp-confirm"),te=$(".popUp-send__del"),ae=$(".popUp-confirm__del"),ne=$(".popUp-confirm__btn");te.on("click",(function(e){e.preventDefault(),Y.removeClass("popUp-send--active"),t.removeClass("overflow")})),ae.on("click",(function(){ee.removeClass("popUp-confirm--active"),t.removeClass("overflow")})),ne.on("click",(function(){ee.removeClass("popUp-confirm--active"),t.removeClass("overflow")}));var oe=$(".popUp-print"),ie=$(".popUp-print__del"),se=$(".popUp-print__btn");ie.on("click",(function(){oe.removeClass("popUp-print--active"),t.removeClass("overflow")})),se.on("click",(function(){oe.removeClass("popUp-print--active"),t.removeClass("overflow")}));var le=$(".js-menuTitle"),re=$(".js-menuList");le.on("click",(function(e){$(this).toggleClass("menu__title--active"),re.toggleClass("menu__list--active")}))}();